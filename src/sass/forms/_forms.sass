@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/* form elements
label
  display: inline-block
  vertical-align: top
  margin-bottom: 0.5rem
  +font-size($font-size, $line-height)
  color: $text-color
  user-select: none
  -webkit-tap-highlight-color: transparent !important
  transition: color $animation-speed

  mark
    background: none
    color: $error-color

.label-float
  position: relative
  float: left
  $space-outer-horizontal: $form-border-width + $form-input-space-h - nth($form-label-space-inner, 2)
  $space-outer-vertical: round-float($form-label-line-height / 2, 1)
  margin: 0 #{$space-outer-horizontal} -#{$space-outer-vertical}
  padding: $form-label-space-inner
  +font-size($form-label-font-size, $form-label-line-height)
  color: $text-color
  background-color: white

// .form-def:
// input[type="text"]
// input[type="password"]
// input[type="email"]
// input[type="search"]
// textarea

.form-def
  $form-def: &
  display: block
  +inputs-common-styles
  +inputs-font-styles
  +forms-space
  // transition
  $prop: color, border-color
  transition:
    property: $prop
    duration: $animation-speed
    timing-function: ease-in-out

  // Textarea
  @at-root
    textarea#{$form-def}
      $lines: 2
      $height: round($form-line-height*$lines) + $form-input-space-vt + $form-input-space-vb + round($form-border-width*2)
      min-height: $height
      height: $height
      resize: vertical

  // Последний элемент в списке
  &:last-child
    margin-bottom: 0

  // Placeholder
  +placeholder
    +font-normal
    color: $form-placeholder-color
    // transition
    $prop: opacity, color
    will-change: $prop
    transition:
      property: $prop
      duration: $animation-speed

  // Placeholder hide on focus
  +placeholder-focus
    opacity: 0

  // Focus
  &:focus
    cursor: text
    border-color: $form-border-color--focus

  // Hover
  &:hover
    border-color: $form-border-color--focus

  // Focus (js classes)
  &.focused
    +focused

  // Has value (js classes)
  // Label
  @at-root
    label
      &.filled
        color: $text-color-light

  // Success
  @at-root
    label
      &.success
        +form-success

  &.success
    +form-success

    // Placeholder
    +placeholder
      color: $form-success-color

  // Error
  @at-root label
    &.error
      +form-error

  &.error
    +form-error

    // Placeholder
    +placeholder
      color: $form-error-color

  // Disabled
  &[disabled]
    cursor: default !important
    color: $form-text-color--disabled !important
    background-color: $form-bg-color--disabled !important
    border-color: $form-border-color--disabled !important
    box-shadow: none !important

    +placeholder
      color: $form-text-color--disabled !important

@import unit
@import group
@import radiocheck
@import switcher
@import select
@import validation

/* form elements end